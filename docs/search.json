[
  {
    "objectID": "Base_R_Programming.html",
    "href": "Base_R_Programming.html",
    "title": "Basic Vector practice",
    "section": "",
    "text": "Basic Vector practice\nCreating 2 vectors of blood pressure, before and after treatment. Labeling by patient. Finding a difference between post treatment bp and pre treatment bp and its mean. Identifying which have positive change and their mean.\n\npre&lt;-c(130,128,116,124,133,134,118,126,114,127,141,138,128,140,137,131,120,128,139,135)\npost&lt;-c(114,98,113,99,107,116,113,111,119,117,101,119,130,122,106,106,124,102,117,113)\n\nnames(pre)&lt;-c(paste(\"Subject\", 1:20, sep=\"_\"))\nnames(post)&lt;-c(paste(\"Subject\", 1:20, sep=\"_\"))\n\nchange&lt;-c(pre-post)\n\nmean(change)\n\n[1] 17\n\nwhich(change&gt;0)\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         1          2          3          4          5          6          7 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n         8         10         11         12         14         15         16 \nSubject_18 Subject_19 Subject_20 \n        18         19         20 \n\npositive&lt;-which(change&gt;0)\n\nmean(positive)\n\n[1] 10.05882\n\n\n\n\nData Frame Practice\nCreating data frame of patient, pre, post, and change bp. Adding a new column that computes true if post bp is less than 120.\n\nbp_df&lt;-data.frame(\"pre_bp\"=pre,\"post_bp\"=post,\"diff_bp\"=change)\n\nbp_df[bp_df$diff_bp &lt; 0, ]\n\n           pre_bp post_bp diff_bp\nSubject_9     114     119      -5\nSubject_13    128     130      -2\nSubject_17    120     124      -4\n\nbp_df$low_bp&lt;-c(bp_df$post_bp &lt; 120)\n\nknitr::kable(bp_df)\n\n\n\n\n\npre_bp\npost_bp\ndiff_bp\nlow_bp\n\n\n\n\nSubject_1\n130\n114\n16\nTRUE\n\n\nSubject_2\n128\n98\n30\nTRUE\n\n\nSubject_3\n116\n113\n3\nTRUE\n\n\nSubject_4\n124\n99\n25\nTRUE\n\n\nSubject_5\n133\n107\n26\nTRUE\n\n\nSubject_6\n134\n116\n18\nTRUE\n\n\nSubject_7\n118\n113\n5\nTRUE\n\n\nSubject_8\n126\n111\n15\nTRUE\n\n\nSubject_9\n114\n119\n-5\nTRUE\n\n\nSubject_10\n127\n117\n10\nTRUE\n\n\nSubject_11\n141\n101\n40\nTRUE\n\n\nSubject_12\n138\n119\n19\nTRUE\n\n\nSubject_13\n128\n130\n-2\nFALSE\n\n\nSubject_14\n140\n122\n18\nFALSE\n\n\nSubject_15\n137\n106\n31\nTRUE\n\n\nSubject_16\n131\n106\n25\nTRUE\n\n\nSubject_17\n120\n124\n-4\nFALSE\n\n\nSubject_18\n128\n102\n26\nTRUE\n\n\nSubject_19\n139\n117\n22\nTRUE\n\n\nSubject_20\n135\n113\n22\nTRUE\n\n\n\n\n\n\n\nList Practice\nCreating new data set that is for a control group. Making a list with the treatment and placebo data frames. Accessing the first element 3 different ways. Then accessing the pre bp vector for the placebo group.\n\nplacebo_pre&lt;-c(138,135,147,117,152,134,114,121,131,130)\nplacebo_post&lt;-c(105,136,123,130,134,143,135,139,120,124)\nplacebo_diff&lt;-placebo_post-placebo_pre\nnames(placebo_pre)&lt;-c(paste(\"Subject\", 1:10, sep=\"_\"))\nnames(placebo_post)&lt;-c(paste(\"Subject\", 1:10, sep=\"_\"))\n\nplacebo_df&lt;-data.frame(\"pre_bp\"=placebo_pre, \"post_bp\"=placebo_post, \"diff_bp\"=placebo_diff)\n\nplacebo_df$low_bp&lt;-c(placebo_df$post_bp &lt; 120)\n\ngroup&lt;-list(treatment=bp_df,placebo=placebo_df)\n\ngroup[1]\n\n$treatment\n           pre_bp post_bp diff_bp low_bp\nSubject_1     130     114      16   TRUE\nSubject_2     128      98      30   TRUE\nSubject_3     116     113       3   TRUE\nSubject_4     124      99      25   TRUE\nSubject_5     133     107      26   TRUE\nSubject_6     134     116      18   TRUE\nSubject_7     118     113       5   TRUE\nSubject_8     126     111      15   TRUE\nSubject_9     114     119      -5   TRUE\nSubject_10    127     117      10   TRUE\nSubject_11    141     101      40   TRUE\nSubject_12    138     119      19   TRUE\nSubject_13    128     130      -2  FALSE\nSubject_14    140     122      18  FALSE\nSubject_15    137     106      31   TRUE\nSubject_16    131     106      25   TRUE\nSubject_17    120     124      -4  FALSE\nSubject_18    128     102      26   TRUE\nSubject_19    139     117      22   TRUE\nSubject_20    135     113      22   TRUE\n\ngroup[[1]]\n\n           pre_bp post_bp diff_bp low_bp\nSubject_1     130     114      16   TRUE\nSubject_2     128      98      30   TRUE\nSubject_3     116     113       3   TRUE\nSubject_4     124      99      25   TRUE\nSubject_5     133     107      26   TRUE\nSubject_6     134     116      18   TRUE\nSubject_7     118     113       5   TRUE\nSubject_8     126     111      15   TRUE\nSubject_9     114     119      -5   TRUE\nSubject_10    127     117      10   TRUE\nSubject_11    141     101      40   TRUE\nSubject_12    138     119      19   TRUE\nSubject_13    128     130      -2  FALSE\nSubject_14    140     122      18  FALSE\nSubject_15    137     106      31   TRUE\nSubject_16    131     106      25   TRUE\nSubject_17    120     124      -4  FALSE\nSubject_18    128     102      26   TRUE\nSubject_19    139     117      22   TRUE\nSubject_20    135     113      22   TRUE\n\ngroup[\"treatment\"]\n\n$treatment\n           pre_bp post_bp diff_bp low_bp\nSubject_1     130     114      16   TRUE\nSubject_2     128      98      30   TRUE\nSubject_3     116     113       3   TRUE\nSubject_4     124      99      25   TRUE\nSubject_5     133     107      26   TRUE\nSubject_6     134     116      18   TRUE\nSubject_7     118     113       5   TRUE\nSubject_8     126     111      15   TRUE\nSubject_9     114     119      -5   TRUE\nSubject_10    127     117      10   TRUE\nSubject_11    141     101      40   TRUE\nSubject_12    138     119      19   TRUE\nSubject_13    128     130      -2  FALSE\nSubject_14    140     122      18  FALSE\nSubject_15    137     106      31   TRUE\nSubject_16    131     106      25   TRUE\nSubject_17    120     124      -4  FALSE\nSubject_18    128     102      26   TRUE\nSubject_19    139     117      22   TRUE\nSubject_20    135     113      22   TRUE\n\ngroup$placebo$pre_bp\n\n [1] 138 135 147 117 152 134 114 121 131 130\n\n\n\n\nControl Flow Practice\nCreating a column that categorizes post bp by optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130) for both treatment and placebo.\n\nbp_df$status&lt;-character(20)\nplacebo_df$status&lt;-character(10)\n\nfor(i in 1:length(bp_df$post_bp)){\n  if (bp_df$post_bp[i] &gt;= 130){\n  bp_df$status=\"high\" \n    } else if (bp_df$post_bp[i] &gt; 120) {\n      bp_df$status=\"borderline\" \n        } else if (bp_df$post_bp[i] &lt;= 120) {\n          bp_df$status=\"optimal\"\n        } else {\n          bp_df$status=\"error\"\n        }\n}\n\nfor(i in 1:length(placebo_df$post_bp)){\n  if (placebo_df$post_bp[i] &gt;= 130){\n  placebo_df$status=\"high\" \n    } else if (placebo_df$post_bp[i] &gt; 120) {\n      placebo_df$status=\"borderline\" \n        } else if (placebo_df$post_bp[i] &lt;= 120) {\n          placebo_df$status=\"optimal\"\n        } else {\n          placebo_df$status=\"error\"\n        }\n}\n\n\n\nFunctions\nWriting a function to calculate statistics on pre, post, and difference bp for both treatment and placebo.\n\nstats&lt;-function(bp_df, placebo_df, stat=\"mean\"){\n  my_fun&lt;-get(stat)\n  label&lt;-c(\"treatment_pre\", \"treatment_post\", \"treatment_diff\", \"placebo_pre\", \"placebo_post\", \"placebo_diff\")\n  label_stat&lt;-c(paste(label, stat, sep=\"_\"))\n  values&lt;-c(my_fun(bp_df$pre_bp), my_fun(bp_df$post_bp), my_fun(bp_df$diff_bp), my_fun(placebo_df$pre_bp), my_fun(placebo_df$post_bp), my_fun(placebo_df$diff_bp))\n  names(values)&lt;-label_stat\n  return(values)\n}\n\nstats(bp_df,placebo_df)\n\n treatment_pre_mean treatment_post_mean treatment_diff_mean    placebo_pre_mean \n             129.35              112.35               17.00              131.90 \n  placebo_post_mean   placebo_diff_mean \n             128.90               -3.00 \n\nstats(bp_df,placebo_df, stat=\"var\")\n\n treatment_pre_var treatment_post_var treatment_diff_var    placebo_pre_var \n          64.55526           74.76579          153.68421          149.87778 \n  placebo_post_var   placebo_diff_var \n         124.98889          341.33333 \n\nstats(bp_df,placebo_df, stat=\"sd\")\n\n treatment_pre_sd treatment_post_sd treatment_diff_sd    placebo_pre_sd \n         8.034629          8.646721         12.396944         12.242458 \n  placebo_post_sd   placebo_diff_sd \n        11.179843         18.475209 \n\nstats(bp_df,placebo_df, stat=\"min\")\n\n treatment_pre_min treatment_post_min treatment_diff_min    placebo_pre_min \n               114                 98                 -5                114 \n  placebo_post_min   placebo_diff_min \n               105                -33 \n\nstats(bp_df,placebo_df, stat=\"max\")\n\n treatment_pre_max treatment_post_max treatment_diff_max    placebo_pre_max \n               141                130                 40                152 \n  placebo_post_max   placebo_diff_max \n               143                 21"
  }
]